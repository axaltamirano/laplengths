!function(e,t){for(var i in t)e[i]=t[i]}(exports,function(e){var t={};function i(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(o,r,function(t){return e[t]}.bind(null,r));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handler=function(e,t,i){var r=JSON.parse(e.body),c=new o(r).getTable();i(null,{statusCode:200,body:JSON.stringify(c)})};var o=i(1)},function(e,t,i){"use strict";const o=["318-14","318-11"],r={lightweightConcrete:!1,epoxyCoatedRebar:!1,epoxyCoverSatisfied:!1,hookedCoverSatisfied:!1,hookedConfinementSatisfied:!1,compressionConfinementSatisfied:!1,codeEdition:"318-14",isMetric:!1,preset:"imperial",roundBy:1,areaPrecision:2,includeSeismicIncrease:!1,seismicIncreaseFactor:1.25},c={imperial:{rebarList:[["#3",.375],["#4",.5],["#5",.625],["#6",.75],["#7",.875],["#8",1],["#9",1.128],["#10",1.27],["#11",1.41],["#14",1.693],["#18",2.257]],fy:6e4,fc:4e3},softMetric:{rebarList:[["No.10",9.52],["No.13",12.7],["No.16",15.8],["No.19",19.05],["No.22",22.225],["No.25",25.4],["No.29",28.65],["No.32",32.25],["No.36",35.81],["No.43",43],["No.57",57.33]],fy:420,fc:30,isMetric:!0,areaPrecision:0},hardMetric:{rebarList:[["8",8],["10",10],["12",12],["14",14],["16",16],["20",20],["25",25],["28",28],["32",32],["40",40],["50",50]],fy:420,fc:30,isMetric:!0,areaPrecision:0}};e.exports=class{constructor(e={}){let t=r,i=t.preset,s=c[i];if("preset"in e){if(i=e.preset,!(i in c))throw new Error("Preset undefined");s=c[i]}if("codeEdition"in e&&!o.includes(e.codeEdition))throw new Error("Code edition not recognized or supported");Object.assign(this,t,s,e)}calcArea(e){return(Math.PI*(e*e)/4).toFixed(this.areaPrecision)}calcSqrtFc(){return 1==this.isMetric?Math.min(8.3,Math.sqrt(this.fc)):Math.min(100,Math.sqrt(this.fc))}calcLambdaFactor(){return this.lightweightConcrete?.75:1}calcEpoxyFactor(){return 1==this.epoxyCoatedRebar?this.epoxyCoverSatisfied?1.2:1.5:1}calcSizeFactor(e){return 1==this.isMetric?e>=22?1:.8:e>=.875?1:.8}calcPositionFactor(e){return e?1.3:1}calcCombinedPositionAndEpoxyFactors(e){let t=this.calcEpoxyFactor(),i=this.calcPositionFactor(e);return Math.min(1.7,t*i)}calcHookedLambdaFactor(){return this.lightweightConcrete?.75:1}calcHookedEpoxyFactor(){return this.epoxyCoatedRebar?1.2:1}calcHookedCoverFactor(e){return this.hookedCoverSatisfied?this.isMetric?e<=35.81?.7:1:e<=1.41?.7:1:1}calcHookedConfinementFactor(e){return this.hookedConfinementSatisfied?this.isMetric?e<=35.81?.8:1:e<=1.41?.8:1:1}calcCompressionLambdaFactor(){return this.lightweightConcrete?.75:1}calcCompressionConfinementFactor(){return this.compressionConfinementSatisfied?.75:1}calcDevelopmentLength(e,t,i){let o=this.isMetric?19.05:.75;var r;r=i?e<=o?this.isMetric?2.1:25:this.isMetric?1.7:20:e<=o?this.isMetric?1.4:50/3:this.isMetric?1.1:40/3;let c=this.calcCombinedPositionAndEpoxyFactors(t),s=this.calcLambdaFactor(),n=this.calcSqrtFc(),a=e*this.fy*c/(r*s*n);return 1==this.includeSeismicIncrease&&(a*=this.seismicIncreaseFactor),a}calcSpliceLength(e,t,i){let o=this.isMetric?36:1.41,r=1.3*this.calcDevelopmentLength(e,t,i);return e>o?null:r}calcHookedDevelopmentLength(e){let t=this.calcHookedLambdaFactor(),i=this.calcHookedEpoxyFactor(),o=this.calcHookedCoverFactor(e),r=this.calcHookedConfinementFactor(e),c=this.calcSqrtFc(),s=this.isMetric?1/.24:50,n=this.isMetric?Math.max(150,8*e):Math.max(6,8*e),a=this.fy*e*i*o*r/(s*t*c);return 1==this.includeSeismicIncrease&&(a*=this.seismicIncreaseFactor),Math.max(n,a)}calcCompressionDevelopmentLength(e){let t=this.calcCompressionLambdaFactor(),i=this.calcCompressionConfinementFactor(),o=this.calcSqrtFc(),r=this.isMetric?200:8,c=this.isMetric?1/.24:50,s=this.isMetric?.043:3e-4,n=Math.max(this.fy*i*e/(c*t*o),s*this.fy*i*e);return Math.max(n,r)}calcCompressionSpliceLength(e){let t,i=this.isMetric?36:1.41,o=this.isMetric?300:12;t=this.isMetric?this.fy<=420?.071*this.fy:.13*this.fy-24:this.fy<=6e4?5e-4*this.fy:9e-4*this.fy-24;let r=this.isMetric?21:3e3,c=this.fc<r?1.33:1,s=Math.max(t*e,o)*c;return e>i?null:s}roundUpTo(e,t=this.roundBy){return Math.ceil(e/t)*t}getTable(){let e=[];for(const o of this.rebarList){var t=o[0],i=o[1];e.push({barSize:t,db:i,area:this.calcArea(i),tensionTop:{Ldt:{meetsCover:this.roundUpTo(this.calcDevelopmentLength(i,!0,!0)),doesNotMeetCover:this.roundUpTo(this.calcDevelopmentLength(i,!0,!1))},Lbt:{meetsCover:this.roundUpTo(this.calcSpliceLength(i,!0,!0)),doesNotMeetCover:this.roundUpTo(this.calcSpliceLength(i,!0,!1))}},tensionOther:{Ld:{meetsCover:this.roundUpTo(this.calcDevelopmentLength(i,!1,!0)),doesNotMeetCover:this.roundUpTo(this.calcDevelopmentLength(i,!1,!1))},Lb:{meetsCover:this.roundUpTo(this.calcSpliceLength(i,!1,!0)),doesNotMeetCover:this.roundUpTo(this.calcSpliceLength(i,!1,!1))}},compression:{Ldc:this.roundUpTo(this.calcCompressionDevelopmentLength(i)),Lbc:this.roundUpTo(this.calcCompressionSpliceLength(i))},tensionHook:{Ldh:this.roundUpTo(this.calcHookedDevelopmentLength(i))}})}return e}}}]));